<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="PowerHA SystemMirror and NIM mksysb failures" /><meta property="og:locale" content="en" /><meta name="description" content="I built a basic two-node PowerHA SystemMirror (HACMP) cluster for my team a little while ago to use as a test environment for patch updates. While it wasn’t a true reflection of how the production environment is configured, it was enough to test functionality. As such, I configured a single virtual ethernet adapter in each cluster node, which would house both the boot IP and the service IP of the cluster. After a couple of weeks, I noticed that my weekly NIM mksysb’s on one of the two cluster nodes was always failing. Further investigation found that the NIM mksysb’s would always fail on the cluster node that had the active resource group with the service IP attached to it. If I failed the resource group over to the other cluster node, the NIM mksysb would complete successfully. The IP addresses in the environment (IP addresses changed/masked from actuals)." /><meta property="og:description" content="I built a basic two-node PowerHA SystemMirror (HACMP) cluster for my team a little while ago to use as a test environment for patch updates. While it wasn’t a true reflection of how the production environment is configured, it was enough to test functionality. As such, I configured a single virtual ethernet adapter in each cluster node, which would house both the boot IP and the service IP of the cluster. After a couple of weeks, I noticed that my weekly NIM mksysb’s on one of the two cluster nodes was always failing. Further investigation found that the NIM mksysb’s would always fail on the cluster node that had the active resource group with the service IP attached to it. If I failed the resource group over to the other cluster node, the NIM mksysb would complete successfully. The IP addresses in the environment (IP addresses changed/masked from actuals)." /><link rel="canonical" href="https://blog.kristijan.org/posts/PowerHA-SystemMirror-and-NIM-mksysb-failures/" /><meta property="og:url" content="https://blog.kristijan.org/posts/PowerHA-SystemMirror-and-NIM-mksysb-failures/" /><meta property="og:site_name" content="Kristian’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2015-02-18T00:00:00+11:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="PowerHA SystemMirror and NIM mksysb failures" /><meta name="twitter:site" content="@Kristijan" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-04T15:45:50+10:00","datePublished":"2015-02-18T00:00:00+11:00","description":"I built a basic two-node PowerHA SystemMirror (HACMP) cluster for my team a little while ago to use as a test environment for patch updates. While it wasn’t a true reflection of how the production environment is configured, it was enough to test functionality. As such, I configured a single virtual ethernet adapter in each cluster node, which would house both the boot IP and the service IP of the cluster. After a couple of weeks, I noticed that my weekly NIM mksysb’s on one of the two cluster nodes was always failing. Further investigation found that the NIM mksysb’s would always fail on the cluster node that had the active resource group with the service IP attached to it. If I failed the resource group over to the other cluster node, the NIM mksysb would complete successfully. The IP addresses in the environment (IP addresses changed/masked from actuals).","headline":"PowerHA SystemMirror and NIM mksysb failures","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.kristijan.org/posts/PowerHA-SystemMirror-and-NIM-mksysb-failures/"},"url":"https://blog.kristijan.org/posts/PowerHA-SystemMirror-and-NIM-mksysb-failures/"}</script><title>PowerHA SystemMirror and NIM mksysb failures | Kristian's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Kristian's Blog"><meta name="application-name" content="Kristian's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/images/kristian.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Kristian's Blog</a></div><div class="site-subtitle font-italic">AIX | POWER | Puppet | Automation</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/Kristijan" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://infosec.exchange/@kristijan" aria-label="mastodon" target="_blank" rel="noopener noreferrer me"> <i class="fab fa-mastodon"></i> </a> <a href="javascript:location.href = 'mailto:' + ['kris','kristijan.org'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>PowerHA SystemMirror and NIM mksysb failures</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>PowerHA SystemMirror and NIM mksysb failures</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1424178000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Feb 18, 2015 </em> </span> <span> Updated <em class="" data-ts="1654321550" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 4, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/Kristijan">Kristian Milos</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="842 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><p>I built a basic two-node PowerHA SystemMirror (HACMP) cluster for my team a little while ago to use as a test environment for patch updates. While it wasn’t a true reflection of how the production environment is configured, it was enough to test functionality. As such, I configured a single virtual ethernet adapter in each cluster node, which would house both the boot IP and the service IP of the cluster. After a couple of weeks, I noticed that my weekly NIM mksysb’s on one of the two cluster nodes was always failing. Further investigation found that the NIM mksysb’s would always fail on the cluster node that had the active resource group with the service IP attached to it. If I failed the resource group over to the other cluster node, the NIM mksysb would complete successfully. The IP addresses in the environment (IP addresses changed/masked from actuals).</p><div class="table-wrapper"><table><thead><tr><th>NIM (hostname: nim)<th>Cluster boot IP (hostname: powerha1)<th>Service IP (hostname: powerha1-vip)<tbody><tr><td>10.10.10.100<td>10.10.10.101<td>10.10.10.102</table></div><p>The error from the NIM log.</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="gp">NIM#</span><span class="w"> </span>nim <span class="nt">-o</span> define <span class="nt">-t</span> mksysb <span class="nt">-a</span> <span class="nv">server</span><span class="o">=</span>master <span class="nt">-a</span> <span class="nv">location</span><span class="o">=</span>/export/nim/mksysb/powerha1.mksysb <span class="nt">-a</span> <span class="nb">source</span><span class="o">=</span>powerha1 <span class="nt">-a</span> <span class="nv">mk_image</span><span class="o">=</span><span class="nb">yes</span> <span class="nt">-a</span> <span class="nv">mksysb_flags</span><span class="o">=</span>iepmX powerha1_mksysb
<span class="go">0042-001 nim: processing error encountered on "master":
   0042-001 m_mkbosi: processing error encountered on "powerha1":
   warning: 0042-175 c_mkbosi: An unexpected result was returned by the
        "/usr/sbin/mount" command:
 
mount: 1831-011 access denied for nim:/export/nim/mksysb
mount: 1831-008 giving up on:
nim:/export/nim/mksysb
The file access permissions do not allow the specified action.
rc=175
0042-175 c_mkbosi: An unexpected result was returned by the "/usr/sbin/mount" command:
mount: 1831-011 access denied for nim:/export/nim/mksysb
mount: 1831-008 giving up on:
nim:/export/nim/mksysb
The file access permissions do not allow the specified action.
</span></pre></table></code></div></div><p>Interface configuration on powerha1.</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="gp">powerha1#</span><span class="w"> </span>ifconfig <span class="nt">-a</span>
<span class="gp">en0: flags=1e084863,104c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,CHECKSUM_OFFLOAD(ACTIVE),LARGESEND,CHAIN&gt;</span><span class="w">
</span><span class="go">        inet 10.10.10.102 netmask 0xffffff00 broadcast 10.10.10.255
        inet 10.10.10.101 netmask 0xffffff00 broadcast 10.10.10.255
         tcp_sendspace 262144 tcp_recvspace 262144 rfc1323 1
</span><span class="gp">lo0: flags=e08084b,c0&lt;UP,BROADCAST,LOOPBACK,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,LARGESEND,CHAIN&gt;</span><span class="w">
</span><span class="go">        inet 127.0.0.1 netmask 0xff000000 broadcast 127.255.255.255
         tcp_sendspace 131072 tcp_recvspace 131072 rfc1323 1

</span><span class="gp">powerha1#</span><span class="w"> </span>traceroute nim
<span class="go">trying to get source for nim
source should be 10.10.10.102
traceroute to nim (10.10.10.100) from 10.10.10.102 (10.10.10.102), 30 hops max
outgoing MTU = 1500
 1  10.10.10.252 (10.10.10.252)  2 ms  1 ms  2 ms
 2  nim (10.10.10.100)  1 ms  1 ms  1 ms

</span><span class="gp">powerha1#</span><span class="w"> </span>netstat <span class="nt">-in</span>
<span class="go">Name  Mtu   Network     Address            Ipkts Ierrs    Opkts Oerrs  Coll
</span><span class="gp">en0   1500  link#</span>2      1a.d8.5f.87.26.15 81979866     0 34796223     0     0
<span class="go">en0   1500  10.10.10    10.10.10.102     81979866     0 34796223     0     0
en0   1500  10.10.10    10.10.10.101     81979866     0 34796223     0     0
</span><span class="gp">lo0   16896 link#</span>1                        2421883     0  2421883     0     0
<span class="go">lo0   16896 127         127.0.0.1         2421883     0  2421883     0     0
</span></pre></table></code></div></div><p>As you can see from the traceroute and netstat above, because the Service IP (10.10.10.102) of the resource group is configured as the first alias on the en0 interface, the NFS mount request back to the NIM server occurs from this source IP address. However, back on the NIM server, the NIM client definition has the source address as 10.10.10.101. This is why the NIM server fails to mount the NFS mount on the client to take a successful mksysb.</p><p>Fortunately, there is an option called <strong>Distribution Preference</strong> that can be configured on the Service IP. For this particular configuration, that has both the Service IP and Boot IP on the same interface, we want to <strong>Disable Firstalias</strong>. For the change to reflect across the cluster nodes, we need to <strong>Verify and Synchronize Cluster Configuration</strong>, and then bring that particular resource group offline, and the back online.</p><p>You can find the option using the following fastpath: <code class="language-plaintext highlighter-rouge">smitty cm_service_ip</code>, or drilling down the following menu options.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>Cluster Applications and Resources
 &gt; Resources
  &gt; Configure Service IP Labels/Addresses
   &gt; Configure Service IP Labels/Address Distribution Preference
</pre></table></code></div></div><p>After making the change, the order of the IP aliases within the powerha1 node look like this.</p><div class="language-terminal highlighter-rouge"><div class="code-header"> <span data-label-text="Terminal"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="gp">powerha1#</span><span class="w"> </span>ifconfig <span class="nt">-a</span>
<span class="gp">en0: flags=1e084863,104c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,CHECKSUM_OFFLOAD(ACTIVE),LARGESEND,CHAIN&gt;</span><span class="w">
</span><span class="go">        inet 10.10.10.101 netmask 0xffffff00 broadcast 10.10.10.255
        inet 10.10.10.102 netmask 0xffffff00 broadcast 10.10.10.255
         tcp_sendspace 262144 tcp_recvspace 262144 rfc1323 1
</span><span class="gp">lo0: flags=e08084b,c0&lt;UP,BROADCAST,LOOPBACK,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,LARGESEND,CHAIN&gt;</span><span class="w">
</span><span class="go">        inet 127.0.0.1 netmask 0xff000000 broadcast 127.255.255.255
         tcp_sendspace 131072 tcp_recvspace 131072 rfc1323 1

</span><span class="gp">powerha1#</span><span class="w"> </span>traceroute nim
<span class="go">trying to get source for nim
source should be 10.10.10.101
traceroute to nim (10.10.10.100) from 10.10.10.101 (10.10.10.101), 30 hops max
outgoing MTU = 1500
 1  10.10.10.252 (10.10.10.252)  2 ms  1 ms  2 ms
 2  nim (10.10.10.100)  1 ms  1 ms  1 ms

</span><span class="gp">powerha1#</span><span class="w"> </span>netstat <span class="nt">-in</span>
<span class="go">Name  Mtu   Network     Address            Ipkts Ierrs    Opkts Oerrs  Coll
</span><span class="gp">en0   1500  link#</span>2      1a.d8.5f.87.26.15 82006462     0 34814141     0     0
<span class="go">en0   1500  10.10.10    10.10.10.101     82006462     0 34814141     0     0
en0   1500  10.10.10    10.10.10.102     82006462     0 34814141     0     0
</span><span class="gp">lo0   16896 link#</span>1                        2430058     0  2430058     0     0
<span class="go">lo0   16896 127         127.0.0.1         2430058     0  2430058     0     0
</span></pre></table></code></div></div><p>After this change, both PowerHA SystemMirror cluster nodes successfully take NIM mksysb backups. Thanks goes out to Chris Gibson <a href="https://twitter.com/cgibbo" target="_blank">@cgibbo</a> in helping resolve this issue.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/aix/'>aix</a>, <a href='/categories/hacmp/'>hacmp</a>, <a href='/categories/powerha/'>powerha</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aix/" class="post-tag no-text-decoration" >aix</a> <a href="/tags/hacmp/" class="post-tag no-text-decoration" >hacmp</a> <a href="/tags/mksysb/" class="post-tag no-text-decoration" >mksysb</a> <a href="/tags/nim/" class="post-tag no-text-decoration" >nim</a> <a href="/tags/powerha/" class="post-tag no-text-decoration" >powerha</a> <a href="/tags/systemmirror/" class="post-tag no-text-decoration" >systemmirror</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=PowerHA%20SystemMirror%20and%20NIM%20mksysb%20failures%20-%20Kristian's%20Blog&url=https%3A%2F%2Fblog.kristijan.org%2Fposts%2FPowerHA-SystemMirror-and-NIM-mksysb-failures%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=PowerHA%20SystemMirror%20and%20NIM%20mksysb%20failures%20-%20Kristian's%20Blog&u=https%3A%2F%2Fblog.kristijan.org%2Fposts%2FPowerHA-SystemMirror-and-NIM-mksysb-failures%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fblog.kristijan.org%2Fposts%2FPowerHA-SystemMirror-and-NIM-mksysb-failures%2F&text=PowerHA%20SystemMirror%20and%20NIM%20mksysb%20failures%20-%20Kristian's%20Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/2024-01-17-AIX-VIOS-security-advisories/"></a><li><a href="/posts/HMC-profile-diff/">HMC Profile Diff</a><li><a href="/posts/AIX-paging-space/">AIX paging space</a><li><a href="/posts/Deploying-AIX-eFixes-using-NIM-at-scale-with-Puppet/">Deploying AIX eFixes using NIM at scale with Puppet</a><li><a href="/posts/LPAR-WWPNs-from-the-HMC/">Display client LPAR WWPNs from the HMC</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aix/">aix</a> <a class="post-tag" href="/tags/scripting/">scripting</a> <a class="post-tag" href="/tags/shell-scripting/">shell-scripting</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/hmc/">hmc</a> <a class="post-tag" href="/tags/nim/">nim</a> <a class="post-tag" href="/tags/powerha/">powerha</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/storage/">storage</a> <a class="post-tag" href="/tags/2700/">2700</a></div></div></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/NFS-cross-mounts-in-PowerHA-HACMP/"><div class="card-body"> <em class="small" data-ts="1311602400" data-df="ll" > Jul 26, 2011 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>NFS cross-mounts in PowerHA</h3><div class="text-muted small"><p> Combining NFS with PowerHA we can achieve a HANFS (Highly Available Network File System). The basic concept behind this solution is that one node in the cluster mounts the resource locally, and off...</p></div></div></a></div><div class="card"> <a href="/posts/Patching-CVE-2014-6271-and-CVE-2014-7169-on-AIX-via-NIM/"><div class="card-body"> <em class="small" data-ts="1411999200" data-df="ll" > Sep 30, 2014 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Patching CVE-2014-6271 and CVE-2014-7169 on AIX via NIM (bash bug aka shellshock)</h3><div class="text-muted small"><p> Below I detail how I patched over 800 AIX LPAR’s that were exposed by CVE-2014-6271 and CVE-2014-7169, also known as shellshock, using the NIM server. From everything that I’ve been reading on IBM...</p></div></div></a></div><div class="card"> <a href="/posts/Deploying-AIX-eFixes-using-NIM-at-scale-with-Puppet/"><div class="card-body"> <em class="small" data-ts="1662732000" data-df="ll" > Sep 10, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Deploying AIX eFixes using NIM at scale with Puppet</h3><div class="text-muted small"><p> Most will be familiar with using the emgr command to install emergency fixes (eFixes) on AIX. You can additionally use a Network Installation Management (NIM) server in either a push or pull operat...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Patching-CVE-2014-6271-and-CVE-2014-7169-on-AIX-via-NIM/" class="btn btn-outline-primary" prompt="Older"><p>Patching CVE-2014-6271 and CVE-2014-7169 on AIX via NIM (bash bug aka shellshock)</p></a> <a href="/posts/HMC-Elastic-CoD-detail-function/" class="btn btn-outline-primary" prompt="Newer"><p>HMC Elastic CoD detail function</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "Kristijan/blog", "data-repo-id": "R_kgDOHbe9gg", "data-category": "General", "data-category-id": "DIC_kwDOHbe9gs4CPdgt", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aix/">aix</a> <a class="post-tag" href="/tags/scripting/">scripting</a> <a class="post-tag" href="/tags/shell-scripting/">shell-scripting</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/hmc/">hmc</a> <a class="post-tag" href="/tags/nim/">nim</a> <a class="post-tag" href="/tags/powerha/">powerha</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/storage/">storage</a> <a class="post-tag" href="/tags/2700/">2700</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/Kristijan">Kristian Milos</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
